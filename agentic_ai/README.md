# ü§ñ Automated EDA Agent with LangGraph and Gemini

## üìù Overview

This project implements a sophisticated, multi-step **Exploratory Data Analysis (EDA) agent** using the **LangGraph** framework and the **Gemini** large language model (LLM). Unlike traditional, static EDA scripts, this agent uses a **Map-Reduce** pattern within a cyclic graph to conduct deep, contextual analysis on a dataset.

The agent processes a DataFrame column-by-column, generating rich statistical and qualitative insights for each, and finally synthesizes those findings into a comprehensive, professional report.

-----

## ‚ú® Key Features

  * **Agentic Map-Reduce Pattern:** The workflow uses a loop to map (analyze) each column and then a final step to reduce (synthesize) the individual analyses into one cohesive report.
  * **Structured Output (Pydantic V2):** The per-column analysis step is forced to output valid JSON using a Pydantic schema, ensuring reliability and preventing parsing errors.
  * **Sophisticated Analysis:** The agent is prompted to look for advanced characteristics, including **skewness, kurtosis, outlier detection (IQR bounds), missing data patterns (MCAR/MNAR inference), and inferred bivariate hypotheses.**
  * **Current Date Reporting:** The final report is generated with the current execution date.
  * **Visualization:** The LangGraph structure can be visualized to confirm the looping behavior.

-----

## üõ†Ô∏è Setup and Requirements

### 1\. File Naming

The primary Python script for the agent is named: **`auto_eda_agent.py`**

### 2\. Dependencies

You will need the following Python libraries. We recommend installing them within a virtual environment.

```bash
pip install pandas numpy langchain-google-genai langgraph pydantic
# Required for graph visualization (optional, but recommended)
pip install pygraphviz pydot
# You might also need the system package for graphviz (e.g., `sudo apt install graphviz` on Linux)
```

### 3\. API Key Configuration

The agent requires access to the Google Gemini API. Set your API key as an environment variable:

```bash
export GEMINI_API_KEY="YOUR_API_KEY_HERE"
```

The script automatically uses this key via the `langchain_google_genai` library.

-----

## üöÄ Usage

### 1\. Data Preparation

The demo code initializes an example `pandas.DataFrame` (`demo_df`) with intentional data quality issues, outliers, and varying distributions to showcase the agent's capabilities.

To run the agent on your own data, simply update the script to load your dataset into a pandas DataFrame and pass it to the initial state dictionary under the key `_initial_df`.

### 2\. Running the Agent

Execute the Python script:

```bash
python auto_eda_agent.py
```

### 3\. Output

The script will print the execution steps to the console, detailing which column is being analyzed. The final output is a multi-section **markdown report** generated by the LLM in the synthesis step, including:

  * Executive Summary
  * Data Quality Assessment (with detailed missing value analysis)
  * Univariate Analysis Summary
  * Potential Bivariate Insights (Hypotheses for further analysis)
  * Actionable Recommendations

-----

## üó∫Ô∏è Workflow Architecture (LangGraph Graph)

The agent follows a deterministic **state machine** defined by the LangGraph structure:

1.  **`split_columns` (Entry Node):** Initializes the `EDAState`, calculates enhanced summary statistics for all columns, and creates the list `columns_to_process`.
2.  **Conditional Edge (`should_continue`):** Checks if `columns_to_process` is empty.
3.  **`analyze_column` (Loop Node):** Pops a column name, passes its rich statistics to the structured LLM, and stores the resulting Pydantic analysis object.
4.  **Loop:** If columns remain, it loops back to `analyze_column`.
5.  **`synthesize_report` (Final Node):** Collects all column analyses and uses the LLM to generate the final, cohesive, and dated report.
6.  **`END`:** Terminates the workflow.
